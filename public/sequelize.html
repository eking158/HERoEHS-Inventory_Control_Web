<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="searching_bar/searching_bar.css" />
    <link rel="stylesheet" href="storages/css/storages.css" />
    <link rel="stylesheet" href="logo/logo.css" />
    <link rel="stylesheet" href="buttons/utility_button.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <title>재고관리 사이트 main</title>
</head>

<body>
    <script>
        $( function() {
        //$( "#dialog" ).dialog();
        $( "#tabs" ).tabs();
        $.getJSON("/test/inventory.json",function(data){ //json 파일 경로 수정 필요
            $.each(data["datas"],function(index,value){
            $('input[name=new_defalut_id]').attr('value',data["datas"].length);
            $('input[name=new_defalut_name]').attr('value','-');
            $('input[name=new_defalut_box]').attr('value',0);
            $('input[name=new_defalut_L_category]').attr('value','-');
            $('input[name=new_defalut_S_category]').attr('value','-');
            })
        })
        });
    </script>
    <!-- utility bar  -->
    <div style="width: 16vw;" class="utility">
        <input class="utility_button" type="image" value="back" title="뒤로 돌아가기" img src="/images/icons/back.png" onclick="movepage_utility('back')" />
        <input class="utility_button" type="image" value="add" title="물품 추가" img src="/images/icons/add.png" onclick="movepage_utility('add')" />
        <form id="database">
            <input class="utility_data" type="image" value="submoy" title="데이터베이스에 데이터 업로드" img src="/images/icons/database.png"/>
        </form>
        <input class="utility_button" type="image" value="home" title="홈 화면으로 돌아가기" img src="/images/icons/home.png" onclick="movepage_utility('home')" />
    </div>

    <!-- logo  -->
    <div class="logo">
        <img class="logo_logo" src="images/logos/logo.png">
        <img class="logo_title" src="images/logos/title.png">
        <img class="logo_logo_arobot" src="images/logos/logo_arobot.png">
    </div>

    <!-- searching bar (with animation)  -->
    <div class="searching_bar_main">
        <form action="/search">
            <div class="searching_bar_name">
                <input class="searching_bar_input_ad" type="text" id="object_name" name="object_name">
                <button class="searching_bar_button_ad" type="submit">
                    <i style="font-size: 2vmin" class="fas fa-search"></i>
                </button>
            </div>
            <div class="searching_bar_etc_box">
                <div>
                    <label class="searching_bar_text" for="object_L_category">대분류:</label>
                    <input class="searching_bar_etc_text_box" type="text" id="object_L_category" name="object_L_category">
                </div>
                <div>
                    <label class="searching_bar_text" for="object_S_category">소분류:</label>
                    <input class="searching_bar_etc_text_box" type="text" id="object_S_category" name="object_S_category">
                </div>
            </div>
            <div class="searching_bar_etc_box">
                <div>
                    <label class="searching_bar_text" for="object_room">창고 위치:</label>
                    <select class="searching_bar_etc_select_box" id="object_room" name="object_room">
                        <option value="">모든 창고</option>
                        <option value="406">406호</option>
                        <option value="B05">창고1(B05)</option>
                        <option value="B09-3">창고2(B09-3)</option>
                        <option value="527">527호</option>
                    </select>
                </div>
                <div>
                    <label class="searching_bar_text" for="object_box">박스 위치(숫자):</label>
                    <input class="searching_bar_etc_text_box" type="number" id="object_box" name="object_box">
                </div>
            </div>
            <div class="searching_bar_etc_box">
                <div>
                    <label class="searching_bar_text" >소모품 여부:</label>
                    <input type="radio" id="no_consumables" name="consumables_check" value="no_consumables" checked="checked">
                    <label class="searching_bar_text" for="no_consumables">비소모품</label>
                    <input type="radio" id="consumables" name="consumables_check" value="consumables">
                    <label class="searching_bar_text" for="consumables">소모품</label>
                </div>
            </div>
          </form> 
    </div>

    <!-- select storages button  -->
    <div class="storages">
        <input class="storage_406_button" type="image" img src="images/buttons/406.png"
            onmouseover="this.src='images/buttons/406_picture.png';" onmouseout="this.src='images/buttons/406.png';"
            value="406" onclick="movepage_406()" />
        <input class="B05_button" type="image" img src="images/buttons/B05.png"
            onmouseover="this.src='images/buttons/B05_picture.png';" onmouseout="this.src='images/buttons/B05.png';"
            value="storage 1" onclick="movepage_s1()" />
        <input class="B09-3_button" type="image" img src="images/buttons/B09-3.png"
            onmouseover="this.src='images/buttons/B09-3_picture.png';" onmouseout="this.src='images/buttons/B09-3.png';"
            value="storage 2" onclick="movepage_s2()" />
        <input class="storage_527_button" type="image" img src="images/buttons/527.png"
            onmouseover="this.src='images/buttons/527_picture.png';" onmouseout="this.src='images/buttons/527.png';"
            value="527" onclick="movepage_527()" />
    </div>

    <!-- object add pop up window  -->
    <div class="container">
        <div class="col-sm-6">
            <div id="dialog" title="물품 추가" style="display:none">
                <form action="/action_page.php">
                    <!-- edit submit  -->
                    <label for="object_name">물품명:</label><br>
                    <input style="width: 70%;" type="text" id="new_defalut_name" name="new_defalut_name"><br>
                    <input type=number id=new_defalut_id name=new_defalut_id style=display:none;><br>
                    <label for="object_L_category">대분류:</label><br>
                    <input style="width: 70%;" type="text" id="new_defalut_L_category" name="new_defalut_L_category"><br>
                    <label for="object_S_category">소분류:</label><br>
                    <input style="width: 70%;" type="text" id="new_defalut_S_category" name="new_defalut_S_category"><br>
                    <label for="object_room">창고 위치:</label><br>
                    <select style="width: 30%;" id="object_room" name="object_room">
                        <option value="406">406호</option>
                        <option value="B05">창고1(B05)</option>
                        <option value="B09-3">창고2(B09-3)</option>
                    </select><br>
                    <label for="object_box">박스 위치(숫자):</label><br>
                    <input style="width: 30%;" type="number" id="objenew_defalut_boxct_box" name="new_defalut_box"><br>

                    <label>소모품 여부:</label><br>
                      <input class="consumable" type="radio" id="no_consumables" name="consumables_check"
                        value="no_consumables" checked="checked">
                      <label for="no_consumables">비소모품</label><br>
                      <input class="consumable" type="radio" id="consumables" name="consumables_check"
                        value="consumables">
                      <label for="consumables">소모품</label><br><br>

                    <div id="count_edit_input">
                        <label for="object_count">수량:</label><br>
                        <input style="width: 30%;" type="number" id="object_count" name="object_count" value="0" min="0"
                            max="100">
                    </div><br><br>
                    <input type="submit" value="Submit">
                </form>
                <script>
                    $(document).ready(function () {
                        $('input[type="radio"][class="consumable"]').on('click', function () {
                            var show_edit = $('input[type=radio][class="consumable"]:checked').val();
                            if (show_edit == 'no_consumables') {
                                $('#count_edit_input').css('display', 'flex');
                            } else {
                                $('#count_edit_input').css('display', 'none');
                            }
                        });
                    });
                </script>
            </div>
        </div>
    </div>

    <script>
        function movepage_406() {
            location.href = "/406";
        }
        function movepage_s1() {
            location.href = "/B05";
        }
        function movepage_s2() {
            location.href = "/B09-3";
        }
        function movepage_527() {
            location.href = "/527/0";
        }
        function movepage_utility(target) {
            if (target == "home") {
                location.href = "/";
            }
            else if (target == "back") {
                location.href = "/";
            }
            //make popup window
            else if (target == "add") {
                $("#dialog").dialog({
                    autoOpen: true,
                    width: 400,
                    height: 600,
                    modal: true
                });
                return true;
            }
        }
    </script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="/sequelize.js"></script>
</body>

</html>